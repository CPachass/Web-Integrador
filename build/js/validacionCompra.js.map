{"version":3,"sources":["validacionCompra.js"],"names":["document","addEventListener","submitButton","querySelector","deshabilitar","estadoCampos","titularValidado","numerosTarjetaValidados","fechaTarjetaValidada","cvvValidado","titularInput","getElementById","numerosTarjetaInput","fechaTarjetaInput","cvvInput","$elemento","disabled","style","opacity","prevenirClick","e","preventDefault","actualizarEstadoCampo","esValido","inputElement","propiedadValidada","border","console","log","removeEventListener","event","textoIngresado","target","value","trim","length","test"],"mappings":"AAAAA,SAASC,iBAAiB,oBAAoB,WAC1C,MAAMC,EAAeF,SAASG,cAAc,wBAC5CC,EAAaF,GAEb,MAAMG,EAAe,CACjBC,iBAAiB,EACjBC,yBAAyB,EACzBC,sBAAsB,EACtBC,aAAa,GAGXC,EAAeV,SAASW,eAAe,WACvCC,EAAsBZ,SAASW,eAAe,mBAC9CE,EAAoBb,SAASW,eAAe,iBAC5CG,EAAWd,SAASW,eAAe,eA0BzC,SAASP,EAAaW,GAClBA,EAAUC,UAAW,EACrBD,EAAUE,MAAMC,QAAU,MAC1BH,EAAUd,iBAAiB,QAASkB,GASxC,SAASA,EAAcC,GACnBA,EAAEC,iBAsBN,SAASC,EAAsBC,EAAUC,EAAcC,GAYvD,IAzCmBV,EA8BXQ,GACAC,EAAaP,MAAMS,OAAS,kBAC5BrB,EAAaoB,IAAqB,IAElCD,EAAaP,MAAMS,OAAS,gBAC5BrB,EAAaoB,IAAqB,GAOlCpB,EAAaC,iBAAmBD,EAAaE,yBAA2BF,EAAaG,sBAAwBH,EAAaI,aAC1HkB,QAAQC,IAAI,SA3CDb,EA4CDb,GA3CJc,UAAW,EACrBD,EAAUE,MAAMC,QAAU,IAC1BH,EAAUc,oBAAoB,QAASV,KA2CnCQ,QAAQC,IAAI,SACZxB,EAAaF,IA7ErBQ,EAAaT,iBAAiB,SAAS,SAAU6B,GAC7C,MAAMC,EAAiBD,EAAME,OAAOC,MAEpCX,EADqCS,EAuCxBG,OAAOC,OAAS,EAtCUzB,EAAc,sBAGzDE,EAAoBX,iBAAiB,SAAS,SAAU6B,GACpD,MAAMC,EAAiBD,EAAME,OAAOC,MAEpCX,EAoCc,4BACDc,KAtCyCL,GACPnB,EAAqB,8BAGxEC,EAAkBZ,iBAAiB,SAAS,SAAU6B,GAClD,MAAMC,EAAiBD,EAAME,OAAOC,MAEpCX,EAmCc,2BACDc,KArCoCL,GACLlB,EAAmB,2BAGnEC,EAASb,iBAAiB,SAAS,SAAU6B,GACzC,MAAMC,EAAiBD,EAAME,OAAOC,MAEpCX,EAkCc,YACDc,KApCkBL,GACIjB,EAAU","file":"validacionCompra.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\r\n    const submitButton = document.querySelector('input[type=\"submit\"]');\r\n    deshabilitar(submitButton);\r\n\r\n    const estadoCampos = {\r\n        titularValidado: false,\r\n        numerosTarjetaValidados: false,\r\n        fechaTarjetaValidada: false,\r\n        cvvValidado: false\r\n    };\r\n\r\n    const titularInput = document.getElementById('titular');\r\n    const numerosTarjetaInput = document.getElementById('numeros-tarjeta');\r\n    const fechaTarjetaInput = document.getElementById('fecha-tarjeta');\r\n    const cvvInput = document.getElementById('cvv-tarjeta');\r\n\r\n    titularInput.addEventListener('input', function (event) {\r\n        const textoIngresado = event.target.value;\r\n        const esTitularValido = validarTexto(textoIngresado);\r\n        actualizarEstadoCampo(esTitularValido, titularInput, 'titularValidado');\r\n    });\r\n\r\n    numerosTarjetaInput.addEventListener('input', function (event) {\r\n        const textoIngresado = event.target.value;\r\n        const esNumerosTarjetaValidos = validarNumerosTarjeta(textoIngresado);\r\n        actualizarEstadoCampo(esNumerosTarjetaValidos, numerosTarjetaInput, 'numerosTarjetaValidados');\r\n    });\r\n\r\n    fechaTarjetaInput.addEventListener('input', function (event) {\r\n        const textoIngresado = event.target.value;\r\n        const esFechaTarjetaValida = validarFechaTarjeta(textoIngresado);\r\n        actualizarEstadoCampo(esFechaTarjetaValida, fechaTarjetaInput, 'fechaTarjetaValidada');\r\n    });\r\n\r\n    cvvInput.addEventListener('input', function (event) {\r\n        const textoIngresado = event.target.value;\r\n        const esCVVValido = validarCVV(textoIngresado);\r\n        actualizarEstadoCampo(esCVVValido, cvvInput, 'cvvValidado');\r\n    });\r\n\r\n    function deshabilitar($elemento) {\r\n        $elemento.disabled = true;\r\n        $elemento.style.opacity = '0.5';\r\n        $elemento.addEventListener('click', prevenirClick);\r\n    }\r\n\r\n    function habilitar($elemento) {\r\n        $elemento.disabled = false;\r\n        $elemento.style.opacity = '1';\r\n        $elemento.removeEventListener('click', prevenirClick);\r\n    }\r\n\r\n    function prevenirClick(e) {\r\n        e.preventDefault();\r\n    }\r\n\r\n    function validarTexto(texto) {\r\n        return texto.trim().length > 0;\r\n    }\r\n\r\n    function validarNumerosTarjeta(texto) {\r\n        const regex = /^\\d{4}-\\d{4}-\\d{4}-\\d{4}$/;\r\n        return regex.test(texto);\r\n    }\r\n\r\n    function validarFechaTarjeta(texto) {\r\n        const regex = /^(0[1-9]|1[0-2])\\/\\d{2}$/;\r\n        return regex.test(texto);\r\n    }\r\n\r\n    function validarCVV(texto) {\r\n        const regex = /^\\d{3,4}$/;\r\n        return regex.test(texto);\r\n    }\r\n\r\n    function actualizarEstadoCampo(esValido, inputElement, propiedadValidada) {\r\n        if (esValido) {\r\n            inputElement.style.border = '2px solid green';\r\n            estadoCampos[propiedadValidada] = true;\r\n        } else {\r\n            inputElement.style.border = '2px solid red';\r\n            estadoCampos[propiedadValidada] = false;\r\n        }\r\n\r\n        actualizarEstadoBoton();\r\n    }\r\n\r\n    function actualizarEstadoBoton() {\r\n        if (estadoCampos.titularValidado && estadoCampos.numerosTarjetaValidados && estadoCampos.fechaTarjetaValidada && estadoCampos.cvvValidado) {\r\n            console.log('hola');\r\n            habilitar(submitButton);\r\n        } else {\r\n            console.log('adios');\r\n            deshabilitar(submitButton);\r\n        }\r\n    }\r\n});\r\n"]}